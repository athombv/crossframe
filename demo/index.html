<!doctype html>
<html>
	<head>

		<script type="text/javascript" src="../src/crossframe.js"></script>
		<script type="text/javascript">
		window.addEventListener('load', function(){
			var frameEl = document.getElementById('myframe');
			var cf = new CrossFrame( frameEl );
				cf.ready(function(){
					console.log('[index.html] ready');
					
					cf.on('iframe_to_parent', function( data, callback ) {
						console.log('[index.html] on iframe_to_parent', data);
	
						callback( null, true );
					})
					cf.emit('parent_to_iframe', { x: 'y' }, function( err, result ){
						console.log('[index.html] parent_to_iframe callback', 'err:', err, 'result:', result);
					});
				});
		});
		</script>

	</head>
	<body>

		<iframe id="myframe" src="frame.html?reactNative=0" width="600" height="400" sandbox="allow-scripts"></iframe>
		
		<p>Open your console.</p>

	</body>
</html>